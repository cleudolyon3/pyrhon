(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-266fe9d4"],{"09f4":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),Math.easeInOutQuad=function(t,e,n,a){return t/=a/2,t<1?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e)};var a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function o(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function i(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function r(t,e,n){var r=i(),c=t-r,s=20,l=0;e="undefined"===typeof e?500:e;var u=function t(){l+=s;var i=Math.easeInOutQuad(l,r,c,e);o(i),l<e?a(t):n&&"function"===typeof n&&n()};u()}},1964:function(t,e,n){},"20af":function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"h",(function(){return i})),n.d(e,"g",(function(){return r})),n.d(e,"i",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return u})),n.d(e,"j",(function(){return d})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return p}));var a=n("b775");function o(t){return Object(a["a"])({url:"/planoAcao/meusPost",method:"get",params:t})}function i(t,e){return Object(a["a"])({url:"/planoAcao/getProfessorPresencaTurno/".concat(t,"/").concat(e),method:"get"})}function r(t){return Object(a["a"])({url:"/planoAcao/getByIdAula/".concat(t),method:"get"})}function c(t){return Object(a["a"])({url:"/planoAcao/lancarPresenca",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/planoAcao/postTurma",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/planoAcao/link",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/planoAcao/aulaEditar",method:"put",data:t})}function d(t){return Object(a["a"])({url:"/planoAcao/linkEditar",method:"post",data:t})}function f(t){return Object(a["a"])({url:"/planoAcao/apagarAcao/".concat(t),method:"get"})}function p(t,e){return Object(a["a"])({url:"/planoAcao/apagarLinkPost/".concat(t),method:"delete",data:e})}},2568:function(t,e,n){"use strict";n("1964")},"4a74":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("router-link",{attrs:{to:"/salaCoordenacao/planoAcao?edit=false"}},[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus"}},[t._v("\n      Criar Plano Ação\n    ")])],1),t._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:t.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v("\n      Export\n    ")])],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.listPlanoAcao,border:"",fit:"","highlight-current-row":""},on:{"sort-change":t.sortChange}},[n("el-table-column",{attrs:{label:"ID",prop:"id",sortable:"custom",align:"center",width:"80","class-name":t.getSortClass("id")},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",{on:{click:function(e){return t.handleUpdate(a)}}},[t._v(t._s(a.id))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Data",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",{staticClass:"link-type"},[t._v(t._s(t._f("moment")(a.data,"DD/MM/YYYY")))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Pauta","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("router-link",{attrs:{to:"/salaCoordenacao/planoAcao?id="+a.id+"&periodo="+a.periodo+"&tri="+a.unidade}},[n("span",{domProps:{innerHTML:t._s(a.pauta)}})])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Ação",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{attrs:{to:"/salaCoordenacao/planoAcao?id="+e.row.id+"&periodo="+e.row.periodo+"&tri="+e.row.unidade}},[n("el-button",{attrs:{type:"primary",size:"small"}},[n("i",{staticClass:"el-icon-reading"}),t._v("\n            Visualizar\n          ")])],1),t._v(" "),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){return t.handleDelete(e.row)}}},[t._v("\n            Apagar\n          ")])]}}])})],1),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.listTotal>0,expression:"listTotal>0"}],attrs:{total:t.listTotal,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:function(e){return t.getList()}}}),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogPvVisible,title:"Reading statistics"},on:{"update:visible":function(e){t.dialogPvVisible=e}}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pvData,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{prop:"key",label:"Channel"}}),t._v(" "),n("el-table-column",{attrs:{prop:"pv",label:"Pv"}})],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogPvVisible=!1}}},[t._v("Salvar")])],1)],1)],1)},o=[],i=(n("96cf"),n("3b8d")),r=n("db72"),c=n("6724"),s=n("ed08"),l=n("333d"),u=n("2f62"),d=n("955c"),f=Object(u["a"])("acao"),p=f.mapActions,m=f.mapGetters,v=(f.mapState,[{key:"A",display_name:"Aberto"},{key:"1",display_name:"Fechado"}]),h=v.reduce((function(t,e){return t[e.key]=e.display_name,t}),{}),g={name:"blog",props:{showDialogClone:{type:Boolean,default:!1},id:{type:String,default:!1}},components:{Pagination:l["a"]},directives:{waves:c["a"]},filters:{statusFilter:function(t){var e={0:"success",1:"info",deleted:"danger"};return e[t]},typeFilter:function(t){return h[t]}},data:function(){return{tableKey:0,list:null,total:0,freq:0,atividade:0,listQuery:{page:1,limit:20,importance:void 0,ano:void 0,type:void 0,order:"asc"},importanceOptions:[1,2,3],calendarTypeOptions:v,sortOptions:[{label:"ID ascendente",key:"asc"},{label:"ID descendente",key:"desc"}],statusOptions:["aberto","Fechado","Apagado"],showReviewer:!1,showReview:!1,showReviewewR:!1,temp:{id:"",dataEntrega:"",titulo:""},dialogFormVisible:!1,rules:{dataEntrega:[{type:"date",required:!0,message:"data requerida",trigger:"change"}],titulo:[{required:!0,message:"titulo requerido",trigger:"blur"}]},dialogStatus:"",textMap:{update:"Edit",create:"Create"},dialogPvVisible:!1,pvData:[],downloadLoading:!1}},computed:Object(r["a"])({},m(["listPlanoAcao","listTotal","listLoading"])),created:function(){Object(d["a"])(this.$store),this.listarPlanoAcao()},methods:Object(r["a"])(Object(r["a"])({},p(["listarPlanoAcao","deletarAcao","editarAcao"])),{},{showDialog:function(t){this.id=t,this.showDialogClone=!0},verSituacao:function(t){var e={0:"Aberto",1:"Fechado"};return e[t]},getList:function(){this.listarPlanoAcao(this.listQuery)},handleFilter:function(){this.listQuery.page=1,this.getList()},handleModifyStatus:function(t,e){var n=this;solicitacao(t.id,e).then((function(t){setTimeout((function(){n.listLoading=!1}),1500)})),this.$message({message:"Sucesso",type:"success"}),t.situacao=e,this.$store.state.contador.contador++},sortChange:function(t){var e=t.prop,n=t.order;"id"===e&&this.sortByID(n)},sortByID:function(t){this.listQuery.order="ascending"===t?"asc":"desc",this.handleFilter()},handleUpdate:function(t){var e=this;this.temp=Object.assign({},t),this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},updateData:function(){var t=this;this.$refs["dataForm"].validate((function(e){e&&t.editarAcao({post:t.temp}).then((function(){t.$notify({title:"Sucesso",message:"Atualizado Com Sucesso",type:"success",duration:2e3})}))}))},handleDelete:function(t,e){var n=this;this.$confirm('Confirme Apagar "'.concat(t.id,'"?'),"Warning",{confirmButtonText:"Confirmar",cancelButtonText:"Cancel",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.deletarAcao({acao:t});case 2:n.$message({type:"success",message:"Apagou com Sucesso!"});case 3:case"end":return e.stop()}}),e)})))).catch((function(t){console.error(t)}))},handleDownload:function(){var t=this;this.downloadLoading=!0,Promise.all([n.e("chunk-5bdd67a2"),n.e("chunk-5164a781"),n.e("chunk-5507b690")]).then(n.bind(null,"4bf8d")).then((function(e){var n=["timestamp","title","type","importance","status"],a=["timestamp","title","type","importance","status"],o=t.formatJson(a);e.export_json_to_excel({header:n,data:o,filename:"table-list"}),t.downloadLoading=!1}))},formatJson:function(t){return this.list.map((function(e){return t.map((function(t){return"timestamp"===t?Object(s["e"])(e[t]):e[t]}))}))},getSortClass:function(t){var e=this.listQuery.order;return e==="+".concat(t)?"ascendente":"descendente"}})},b=g,w=(n("2568"),n("2877")),A=Object(w["a"])(b,a,o,!1,null,"c9d80bb2",null);e["default"]=A.exports},6724:function(t,e,n){"use strict";n("8d41");var a="@@wavesContext";function o(t,e){function n(n){var a=Object.assign({},e.value),o=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),i=o.ele;if(i){i.style.position="relative",i.style.overflow="hidden";var r=i.getBoundingClientRect(),c=i.querySelector(".waves-ripple");switch(c?c.className="waves-ripple":(c=document.createElement("span"),c.className="waves-ripple",c.style.height=c.style.width=Math.max(r.width,r.height)+"px",i.appendChild(c)),o.type){case"center":c.style.top=r.height/2-c.offsetHeight/2+"px",c.style.left=r.width/2-c.offsetWidth/2+"px";break;default:c.style.top=(n.pageY-r.top-c.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",c.style.left=(n.pageX-r.left-c.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return c.style.backgroundColor=o.color,c.className="waves-ripple z-active",!1}}return t[a]?t[a].removeHandle=n:t[a]={removeHandle:n},n}var i={bind:function(t,e){t.addEventListener("click",o(t,e),!1)},update:function(t,e){t.removeEventListener("click",t[a].removeHandle,!1),t.addEventListener("click",o(t,e),!1)},unbind:function(t){t.removeEventListener("click",t[a].removeHandle,!1),t[a]=null,delete t[a]}},r=function(t){t.directive("waves",i)};window.Vue&&(window.waves=i,Vue.use(r)),i.install=r;e["a"]=i},"8d41":function(t,e,n){},"955c":function(t,e,n){"use strict";n("b54a"),n("96cf");var a,o=n("3b8d"),i=n("20af"),r="LISTAR_ACAO",c="EDITAR_ACAO",s="TOTAL_ACAO",l="DELETAR_ACAO",u="IS_LOADING",d="LISTAR_PLANOACAO",f="CRIAR_ACAO",p="LISTAR_LINKS",m="CRIAR_LINK",v="EDITAR_LINK",h="DELETAR_LINK",g={listarPlanoAcao:function(t,e){var n=t.commit;return n(u,{loading:!0}),new Promise((function(t,a){Object(i["f"])(e).then((function(e){var a=e.data,o=e.total;n(d,{plano:a}),n(s,{total:o}),n(u,{loading:!1}),t()})).catch((function(t){n(u,{loading:!1}),a(t)}))}))},editarAcao:function(t,e){var n=t.commit;e.post;return Object(i["a"])(acao).then((function(t){return n(c,{acao:t.data})})).catch((function(t){reject(t)}))},deletarAcao:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,n){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,o=n.acao,t.next=4,Object(i["d"])(o.id);case 4:t.sent,a(l,{acao:o});case 6:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),listarAcao:function(t,e){var n=t.commit,a=t.dispatch;return n(u,{loading:!0}),a("resetarAcao"),new Promise((function(t,a){Object(i["g"])(e).then((function(e){var a=e.link,o=e.data;n(r,{acao:o}),n(p,{links:a}),n(u,{loading:!1}),t()})).catch((function(t){n(u,{loading:!1}),a(t)}))}))},resetarAcao:function(t){var e=t.commit;e(r,{acao:{id:"",ensino:"",unidade:"",data:"",formato:"",pauta:"",objetivo:"",levantamento:"",demanda:"",propostaEspecial:"",turno:""}}),e(p,{links:[]})},criarPlano:function(t,e){var n=t.commit,a=e.acao;return Object(i["b"])(a).then((function(t){return n(f,{acao:t.data})})).catch((function(t){reject(t)}))},criarLink:function(t,e){var n=t.commit,a=e.link;return Object(i["c"])(a).then((function(t){return n(m,{link:t.data})})).catch((function(t){reject(t)}))},setLink:function(t,e){var n=t.commit;n(m,{link:e.data})},deletarLink:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,n){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,o=n.link,t.next=4,Object(i["e"])(o.id);case 4:t.sent,a(h,{link:o});case 6:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),editarLink:function(t,e){var n=t.commit,a=e.link;return Object(i["j"])(a).then((function(t){return n(v,{link:t.data})})).catch((function(t){reject(t)}))}},b={listLinks:function(t){return t.links},listAcao:function(t){return t.acao},turno:function(t){return t.acao.turno},listPlanoAcao:function(t){return t.planoAcao},listTotalAcao:function(t){return t.totalAcao},listTotal:function(t){return t.total},listLoading:function(t){return t.loading}},w=n("bd86"),A=(n("20d6"),a={},Object(w["a"])(a,d,(function(t,e){var n=e.plano;t.planoAcao=n})),Object(w["a"])(a,r,(function(t,e){var n=e.acao;t.acao=n})),Object(w["a"])(a,void 0,(function(t,e){var n=e.total;t.total=n})),Object(w["a"])(a,f,(function(t,e){var n=e.acao;t.acao=n,t.planoAcao.push(n)})),Object(w["a"])(a,c,(function(t,e){var n=e.acao,a=t.planoAcao.findIndex((function(t){return t.id===n.id}));t.planoAcao.splice(a,1,n)})),Object(w["a"])(a,l,(function(t,e){var n=e.acao,a=t.planoAcao.findIndex((function(t){return t.id===n.id}));t.planoAcao.splice(a,1)})),Object(w["a"])(a,u,(function(t,e){var n=e.loading;t.loading=n})),Object(w["a"])(a,p,(function(t,e){var n=e.links;t.links=n})),Object(w["a"])(a,m,(function(t,e){var n=e.link;t.links.push(n)})),Object(w["a"])(a,v,(function(t,e){var n=e.link,a=t.links.findIndex((function(t){return t.id===n.id}));t.links.splice(a,1,n)})),Object(w["a"])(a,h,(function(t,e){var n=e.link,a=t.links.findIndex((function(t){return t.id===n.id}));t.links.splice(a,1)})),a),y={acoes:[],planoAcao:[],total:"",totalAcao:"",acao:{id:"",ensino:"",unidade:"",data:"",formato:"",pauta:"",objetivo:"",levantamento:"",demanda:"",propostaEspecial:"",turno:""},links:[],loading:!1},k={namespaced:!0,state:y,getters:b,mutations:A,actions:g},O="acao";e["a"]=function(t){O in t._modules.root._children||t.registerModule(O,k)}}}]);