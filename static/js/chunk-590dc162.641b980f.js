(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-590dc162"],{"08a0":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("Alunos de Justificativa e Liberados")])]),t._v(" "),n("el-input",{attrs:{size:"mini",placeholder:"Digite o nome do Aluno"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.filter((function(e){return!t.search||e.pessoa.toLowerCase().includes(t.search.toLowerCase())})),"max-height":"250"}},[n("el-table-column",{attrs:{fixed:"",label:"Data",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{"margin-left":"10px"}},[t._v(" "+t._s(t._f("moment")(e.row.dataAtestado,"DD/MM/YYYY")))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Motivo",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{"margin-left":"10px"}},[t._v(" "+t._s(t._f("statusFilter")(e.row.motivo)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"pessoa",label:"Aluno","min-width":"210"}}),t._v(" "),n("el-table-column",{attrs:{prop:"observacao",label:"Observação","min-width":"120"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"Baixar",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.documento?n("baixar",{attrs:{id:e.row.idLink}}):t._e()]}}])})],1)],1)],1)},r=[],o=n("db72"),i=n("2f62"),u=n("d8a5"),c=n("9230"),d=n("8878"),s=n("e350"),l=n("b81f"),f={components:{baixar:c["a"],VOverdrive:d["a"]},filters:{statusFilter:function(t){var e={1:"Doença",2:"Pai ou Responsável",3:"Consulta médica",4:"Advertência",5:"Suspensão",6:"Falta de Transporte",7:"Outros"};return e[t]}},props:{pessoa:{type:String,default:void 0},idPessoa:{type:String,default:void 0},id:{type:String,default:void 0},limite:{type:String,default:""},search:{type:String,default:void 0},idAtestado:{type:String,default:void 0},acesso:{type:String,default:void 0},longitude:{type:String,default:void 0},linkArquivo:{type:String,default:void 0},latitude:{type:String,default:void 0},endereco:{type:Array,default:void 0},tableData:{type:Array,default:void 0},localizacao:{type:Array,default:void 0},table:{type:Array,default:void 0}},computed:Object(o["a"])({},Object(i["c"])(["idPessoa","token"])),watch:{idAtestado:function(){this.exibirArquivo(this.limite)},form:function(t){this.linkArquivo="https://fontedeluz.mgestor.com/crud/api/atestado/envioArquivo/"+this.id+"/"+this.idAtestado+"/"+t.tipo+"/"+this.token}},data:function(){return{dataForm:{id:this.id,turma:this.pessoa.idturma,observacao:"",dias:"",data:""},rules:{dias:[{required:!0,message:"Digite quantidade de dias",trigger:"blur"}],data:[{required:!0,message:"Escolha uma data",trigger:"blur"}]},active:0,dialogTableVisible:!1,dialogFormVisible:!1,image:"",form:{nome:"Atestado",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"120px"}},created:function(){this.exibirArquivo(this.limite),this.linkArquivo="https://fontedeluz.mgestor.com/crud/api/aluno/envioArquivo/"+this.id+"/"+this.idAtestado+"/"+this.form.tipo+"/"+this.token;var t=this.$route.query.id;t&&(this.id=t),this.exibirPessoaFoto(this.id,this.pessoa.idEscola)},methods:{checkPermission:s["a"],handleAvatarSuccess:function(t,e){this.$notify({title:"Sucesso",message:"Enviado com sucesso",type:"success",duration:2e3});var n={id:t.id,nome:this.form.nome};this.exibirArquivo(this.limite),this.fecharDocumento(),Object(u["b"])(n),this.form.nome="",this.form.tipo="",this.active=0},fecharDocumento:function(){this.dialogFormVisible=!1,this.form.nome="Atestado",this.form.tipo="",this.active=0},next:function(){this.active++>1&&(this.active=0)},deleteRow:function(t,e){var n=this;this.$confirm("Deseja apagar este Arquivo?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){fecharLink(e),n.tableData.splice(t,1),n.$message({type:"success",message:"Apagado com Sucesso"})})).catch((function(){n.$message({type:"info",message:"Delete canceledo"})}))},exibirPessoaFoto:function(t,e){var n=this;Object(l["o"])(t,e).then((function(t){n.image=t.data.foto}))},exibirArquivo:function(t){var e=this;Object(u["d"])(t).then((function(t){e.tableData=t.data}))},getPessoa:function(t){var e=this;exibirPessoa(t).then((function(t){e.pessoa=t.data}))}}},h=f,b=n("2877"),m=Object(b["a"])(h,a,r,!1,null,null,null);e["default"]=m.exports},"87a1":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"e",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return d}));var a=n("b775");function r(t){return Object(a["a"])({url:"/atestado/adicionar",method:"post",data:t})}function o(t,e){return Object(a["a"])({url:"/atestado/exibirLink/".concat(t,"/").concat(e),method:"get"})}function i(t){return Object(a["a"])({url:"/atestado/baixarLink/".concat(t),method:"get"})}function u(t){return Object(a["a"])({url:"/atestado/exibirAtestadosArquivo/".concat(t),method:"get"})}function c(t){return Object(a["a"])({url:"/atestado/editarLink",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/atestado/fecharLink/".concat(t),method:"get"})}},9230:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.link?t._e():n("el-button",{attrs:{loading:t.loading,icon:"el-icon-link",type:"primary",size:"small",plain:""},nativeOn:{click:function(e){return e.preventDefault(),t.baixarArquivo(t.id)}}},[t._v("\r\n          Gerar Link\r\n        ")]),t._v(" "),t.link?n("el-link",{attrs:{href:t.link,type:"success",target:"_blank"}},[t._v("Baixar "),n("i",{staticClass:"el-icon-download el-icon--right"})]):t._e()],1)},r=[],o=n("87a1"),i={props:{id:{type:String,default:void 0},link:{type:String,default:void 0},loading:{type:Boolean,default:!1}},data:function(){return{}},methods:{baixarArquivo:function(t){var e=this;this.loading=!0,Object(o["b"])(t).then((function(t){e.link=t.data})),this.loading=!1,setTimeout((function(){this.link=""}),360)}}},u=i,c=n("2877"),d=Object(c["a"])(u,a,r,!1,null,null,null);e["a"]=d.exports},b81f:function(t,e,n){"use strict";n.d(e,"q",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return i})),n.d(e,"e",(function(){return u})),n.d(e,"a",(function(){return c})),n.d(e,"B",(function(){return d})),n.d(e,"v",(function(){return s})),n.d(e,"w",(function(){return l})),n.d(e,"y",(function(){return f})),n.d(e,"s",(function(){return h})),n.d(e,"x",(function(){return b})),n.d(e,"A",(function(){return m})),n.d(e,"G",(function(){return p})),n.d(e,"H",(function(){return v})),n.d(e,"J",(function(){return g})),n.d(e,"I",(function(){return O})),n.d(e,"K",(function(){return j})),n.d(e,"L",(function(){return y})),n.d(e,"F",(function(){return x})),n.d(e,"r",(function(){return k})),n.d(e,"b",(function(){return A})),n.d(e,"u",(function(){return S})),n.d(e,"D",(function(){return _})),n.d(e,"o",(function(){return w})),n.d(e,"l",(function(){return q})),n.d(e,"E",(function(){return D})),n.d(e,"C",(function(){return L})),n.d(e,"z",(function(){return C})),n.d(e,"c",(function(){return F})),n.d(e,"k",(function(){return P})),n.d(e,"p",(function(){return E})),n.d(e,"j",(function(){return M})),n.d(e,"i",(function(){return $})),n.d(e,"n",(function(){return z})),n.d(e,"h",(function(){return B}));var a=n("b775");function r(t){return Object(a["a"])({url:"/aluno/exibirPessoa/".concat(t),method:"get"})}function o(){return Object(a["a"])({url:"/aluno/buscaPessoa",method:"get"})}function i(){return Object(a["a"])({url:"/aluno/buscaPessoaEscola",method:"get"})}function u(){return Object(a["a"])({url:"/aluno/buscaCursando",method:"get"})}function c(t){return Object(a["a"])({url:"/aluno/adicionar",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/aluno/familia",method:"post",data:t})}function s(t,e){return Object(a["a"])({url:"/aluno/getFamilia/".concat(t,"/").concat(e),method:"get"})}function l(t){return Object(a["a"])({url:"/aluno/getMedica/".concat(t),method:"get"})}function f(t){return Object(a["a"])({url:"/aluno/medica",method:"post",data:t})}function h(t,e){return Object(a["a"])({url:"/aluno/exibirResposta/".concat(t,"/").concat(e),method:"get"})}function b(t,e){return Object(a["a"])({url:"/aluno/getQuestionarioFamilia/".concat(t,"/").concat(e),method:"get"})}function m(t){return Object(a["a"])({url:"/aluno/salvarQuestionario",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/aluno/editar",method:"post",data:t})}function v(t){return Object(a["a"])({url:"/aluno/verificar",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/aluno/verificarEscola",method:"post",data:t})}function O(t){return Object(a["a"])({url:"/aluno/verificarCursando",method:"post",data:t})}function j(t){return Object(a["a"])({url:"/aluno/verificarMatricula/".concat(t),method:"get"})}function y(t){return Object(a["a"])({url:"/aluno/verificarTransferido/".concat(t),method:"get"})}function x(t){return Object(a["a"])({url:"/aluno/trocarSenha",method:"post",data:t})}function k(t){return Object(a["a"])({url:"/aluno/exibirResponsavel/".concat(t),method:"get"})}function A(t){return Object(a["a"])({url:"/aluno/addEspecial",method:"post",data:t})}function S(t){return Object(a["a"])({url:"/aluno/getEspecial/".concat(t),method:"get"})}function _(t){return Object(a["a"])({url:"/aluno/senha/".concat(t),method:"get"})}function w(t,e){return Object(a["a"])({url:"/aluno/exibirFoto/".concat(t,"/").concat(e),method:"get"})}function q(t){return Object(a["a"])({url:"/aluno/cadastrarSenha/".concat(t),method:"get"})}function D(t){return Object(a["a"])({url:"/aluno/cancelarSenha/".concat(t),method:"get"})}function L(t){return Object(a["a"])({url:"/aluno/ativarSenha/".concat(t),method:"get"})}function C(t){return Object(a["a"])({url:"/aluno/alterarSenha/".concat(t),method:"get"})}function F(t){return Object(a["a"])({url:"/aluno/alterarUsuario/".concat(t),method:"get"})}function P(t){return Object(a["a"])({url:"/aluno/adicionarResponsavel",method:"post",data:t})}function E(t){return Object(a["a"])({url:"/aluno/exibirMatricula/".concat(t),method:"get"})}function M(t){return Object(a["a"])({url:"/aluno/adicionarMatricula",method:"post",data:t})}function $(t){return Object(a["a"])({url:"/aluno/adicionarDataMatricula",method:"post",data:t})}function z(t){return Object(a["a"])({url:"/aluno/exibirConcluinte/".concat(t),method:"get"})}function B(t){return Object(a["a"])({url:"/aluno/adicionarConcluinte",method:"post",data:t})}},d8a5:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return d}));var a=n("b775");function r(t){return Object(a["a"])({url:"/liberacao/adicionar",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/liberacao/liberarAluno",method:"post",data:t})}function i(t,e){return Object(a["a"])({url:"/liberacao/exibirLink/".concat(t,"/").concat(e),method:"get"})}function u(t){return Object(a["a"])({url:"/liberacao/exibirLiberacaoArquivo/".concat(t),method:"get"})}function c(t){return Object(a["a"])({url:"/liberacao/editarLink",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/liberacao/fecharLink/".concat(t),method:"get"})}},e350:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("6762"),n("2fdb");var a=n("4360");function r(t){if(t&&t instanceof Array&&t.length>0){var e=a["a"].getters&&a["a"].getters.roles,n=t,r=e.some((function(t){return n.includes(t)}));return!!r}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1}}}]);