(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bff34"],{4068:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("index",{attrs:{"tab-map-options":t.listMinhasTurma}})],1)},n=[],s=(a("20d6"),a("96cf"),a("3b8d")),o=a("db72"),r=a("6724"),c=a("ed08"),u=a("333d"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-container"},[a("el-radio-group",{staticStyle:{"margin-bottom":"30px"},attrs:{size:"mini"},model:{value:t.tabPosition,callback:function(e){t.tabPosition=e},expression:"tabPosition"}},[a("el-radio-button",{attrs:{label:"right"}},[a("i",{staticClass:"el-icon-right"})]),t._v(" "),a("el-radio-button",{attrs:{label:"top"}},[a("i",{staticClass:"el-icon-top"})]),t._v(" "),a("el-radio-button",{attrs:{label:"bottom"}},[a("i",{staticClass:"el-icon-bottom"})]),t._v(" "),a("el-radio-button",{attrs:{label:"left"}},[a("i",{staticClass:"el-icon-back"})])],1),t._v(" "),a("el-tabs",{staticStyle:{"margin-top":"15px"},attrs:{"tab-position":t.tabPosition,type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabMapOptions,(function(e){return a("el-tab-pane",{key:e.key,attrs:{label:e.label,name:e.key}},[a("keep-alive",[t.activeName==e.key?a("tab-pane",{attrs:{tab:e.key,horario:t.horario,dadosTurma:e},on:{create:t.showCreatedTimes}}):t._e()],1)],1)})),1)],1)},l=[],m=a("5c8e"),p=a("d0d2"),h={name:"Tab",components:{TabPane:m["a"]},props:{tabMapOptions:{type:Object,default:void 0},horario:{type:Array,default:void 0}},data:function(){return{tabPosition:"top",activeName:0,createdTimes:0}},watch:{activeName:function(t){this.$router.push("".concat(this.$route.path,"?tab=").concat(t)),this.activeName=tab,this.getLista()}},created:function(){var t=this.$route.query.tab;t&&(this.activeName=t)},methods:{showCreatedTimes:function(){this.createdTimes=this.createdTimes+1},getLista:function(){var t=this;Object(p["d"])(this.activeName).then((function(e){t.horario=e.horario}))}}},f=h,b=a("2877"),v=Object(b["a"])(f,d,l,!1,null,null,null),g=v.exports,y=a("2f62"),w=a("44a2"),k=Object(y["a"])("turma"),T=k.mapActions,x=k.mapGetters,O=[{key:"A",display_name:"Aberto"},{key:"1",display_name:"Fechado"}],F=O.reduce((function(t,e){return t[e.key]=e.display_name,t}),{}),$={name:"planejar",components:{Pagination:u["a"],index:g},directives:{waves:r["a"]},filters:{statusFilter:function(t){var e={0:"success",1:"info",deleted:"danger"};return e[t]},typeFilter:function(t){return F[t]}},data:function(){return{tableKey:0,list:null,total:0,freq:0,atividade:0,listLoading:!0,listQuery:{page:1,limit:20,importance:void 0,ano:void 0,type:void 0,order:"asc"},importanceOptions:[1,2,3],calendarTypeOptions:O,sortOptions:[{label:"ID ascendente",key:"asc"},{label:"ID descendente",key:"desc"}],statusOptions:["aberto","Fechado","Apagado"],showReviewer:!1,temp:{id:void 0,importance:1,remark:"",timestamp:new Date,ano:"",type:"",situacao:"0"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},dialogPvVisible:!1,pvData:[],rules:{inicio:[{required:!0,message:"Digite o Inicio",trigger:"change"}],fim:[{required:!0,message:"Digite o Final",trigger:"change"}],ano:[{required:!0,message:"Digite o ano",trigger:"blur"}]},downloadLoading:!1}},computed:Object(o["a"])({},x(["listMinhasTurma","totalMinhasTurma"])),created:function(){Object(w["a"])(this.$store),this.listarMinhasTurma(this.listQuery),this.atividadeAula(id)},methods:Object(o["a"])(Object(o["a"])({},T(["listarMinhasTurma","resetarTurma"])),{},{frequencia:function(t){var e=this;return new Promise(function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(i,n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,frequenciaAula(t).then((function(t){return e.atividade=t.data.data})).catch((function(t){n(t)}));case 2:case"end":return a.stop()}}),a)})));return function(t,e){return a.apply(this,arguments)}}()),this.atividade},verSituacao:function(t){var e={0:"Aberto",1:"Fechado"};return e[t]},handleFilter:function(){this.listQuery.page=1,this.getList()},handleModifyStatus:function(t,e){var a=this;solicitacao(t.id,e).then((function(t){setTimeout((function(){a.listLoading=!1}),1500)})),this.$message({message:"Sucesso",type:"success"}),t.situacao=e,this.$store.state.contador.contador++},sortChange:function(t){var e=t.prop,a=t.order;"id"===e&&this.sortByID(a)},sortByID:function(t){this.listQuery.order="ascending"===t?"asc":"desc",this.handleFilter()},resetTemp:function(){this.temp={id:void 0,importance:1,remark:"",timestamp:new Date,ano:"",status:"aberto",type:""}},handleCreate:function(){var t=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},createData:function(){var t=this;this.$refs["dataForm"].validate((function(e){e&&add(t.temp).then((function(e){t.temp.id=e.id,t.temp.situacao=e.situacao,t.list.unshift(t.temp),t.dialogFormVisible=!1,t.$notify({title:"Sucesso",message:"Adicionado com sucesso",type:"success",duration:2e3})}))}))},handleUpdate:function(t){var e=this;this.temp=Object.assign({},t),this.temp.timestamp=new Date(this.temp.timestamp),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},updateData:function(){var t=this;this.$refs["dataForm"].validate((function(e){if(e){var a=Object.assign({},t.temp);update(t.temp.id,a).then((function(){var e=t.list.findIndex((function(e){return e.id===t.temp.id}));t.list.splice(e,1,t.temp),t.dialogFormVisible=!1,t.$notify({title:"Sucesso",message:"Atualizado Com Sucesso",type:"success",duration:2e3})}))}}))},handleDelete:function(t,e){var a=this;this.$confirm('Confirme Apagar "'.concat(t.ano,'"?'),"Warning",{confirmButtonText:"Confirmar",cancelButtonText:"Cancel",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,deleteApagar(t.id);case 2:a.list.splice(e,1),a.$message({type:"success",message:"Apagou com Sucesso!"});case 4:case"end":return i.stop()}}),i)})))).catch((function(t){console.error(t)}))},handleFetchPv:function(t){var e=this;fetchPv(t).then((function(t){e.pvData=t.data.pvData,e.dialogPvVisible=!0}))},handleDownload:function(){var t=this;this.downloadLoading=!0,Promise.all([a.e("chunk-5bdd67a2"),a.e("chunk-5164a781"),a.e("chunk-5507b690")]).then(a.bind(null,"4bf8d")).then((function(e){var a=["timestamp","title","type","importance","status"],i=["timestamp","title","type","importance","status"],n=t.formatJson(i);e.export_json_to_excel({header:a,data:n,filename:"table-list"}),t.downloadLoading=!1}))},formatJson:function(t){return this.list.map((function(e){return t.map((function(t){return"timestamp"===t?Object(c["e"])(e[t]):e[t]}))}))},getSortClass:function(t){var e=this.listQuery.order;return e==="+".concat(t)?"ascendente":"descendente"}})},D=$,j=Object(b["a"])(D,i,n,!1,null,null,null);e["default"]=j.exports}}]);